---
applyTo: "**"
---
# Project coding standards

今 next.js のプロジェクトで TypeScript を使用しているため、以下のコーディング規約に従ってください。
## 1. ファイル名
- ファイル名は小文字で、単語の区切りはハイフン（-）を使用してください。
- 例: `my-component.tsx`, `user-profile.ts`
## 2. インポート順序
- インポートは以下の順序で行ってください。
  1. 外部ライブラリ
  2. 内部モジュール
  3. スタイルシート
- 各セクションの間には空行を入れてください。
## 3. コードスタイル
- インデントはスペース2つを使用してください。
- セミコロンは必ず使用してください。
- 文字列はシングルクォート（'）を使用してください。
- 変数名はキャメルケースを使用してください。
- 定数名は全て大文字で、単語の区切りはアンダースコア（_）を使用してください。
- コメントは必要な箇所に適宜追加してください。
## 4. TypeScriptの型定義
- 変数や関数の引数、戻り値には必ず型を定義してください。
- インターフェースや型エイリアスを使用して、複雑な型を定義してください。
## 5. 関数の定義
- 関数はアロー関数を使用してください。
- 関数名は動詞から始めるようにしてください。
- 例: `const fetchData = async () => { ... }`
## 6. コンポーネントの定義
- Reactコンポーネントは関数コンポーネントを使用してください。
- コンポーネント名は大文字で始め、キャメルケースを使用してください。
- 例: `const MyComponent: React.FC<Props> = ({ prop }) => { ... }`
## 7. エラーハンドリング
- エラー処理は必ず行ってください。
- `try-catch`ブロックを使用して、非同期処理のエラーを適切にハンドリングしてください。
## 8. テスト
- ユニットテストは必ず作成してください。
- Jestを使用してテストを記述してください。
- テストファイルは対応するファイルと同じディレクトリに、拡張子を`.test.ts`または`.test.tsx`としてください。
## 9. ESLintとPrettierの設定
- ESLintとPrettierを使用してコードのフォーマットと静的解析を行ってください。
- `.eslintrc.js`と`.prettierrc`ファイルをプロジェクトルートに配置してください。
## 10. Gitのコミットメッセージ
- コミットメッセージは以下の形式で記述してください。
  - `feat: 新機能の追加`
  - `fix: バグ修正`
  - `docs: ドキュメントの更新`
  - `style: スタイルの変更（コードの意味に影響しない）`
  - `refactor: リファクタリング（バグ修正や機能追加を伴わない）`
  - `test: テストの追加や修正`
  - `chore: その他の変更（ビルドツールやライブラリの更新など）`
## 11. その他
- 不要なコードやコメントアウトは残さないでください。
- コードの可読性を重視し、適宜リファクタリングを行ってください。
- プロジェクトのルールに従って、コードレビューを行ってください。
## 12. Next.js App Routerの使用
- Next.jsのApp Routerを使用して、ページやAPIルートを定義してください。
- ページコンポーネントは`app`ディレクトリ内に配置し、ファイル名はページのパスに対応させてください。
- APIルートは`app/api`ディレクトリ内に配置し、ファイル名はエンドポイントに対応させてください。
- 例: `app/users/page.tsx`（ユーザーページ）、`app/api/users/route.ts`（ユーザーAPIルート）

# 13. ディレクトリ構成
以下のディレクトリ構成を参考にしてください。
```
/
├── src/
│   ├── app/
│   │   ├── api/
│   │   │   ├── auth/
│   │   │   └── exercises/
│   │   │       └── route.ts
│   │   ├── page.tsx
│   │   └── layout.tsx
│   ├── components/
│   │   ├── ui/       // 汎用UIコンポーネント (例: Button, Input)
│   │   │   ├── Button.tsx
│   │   │   └── Input.tsx
│   │   ├── common/   // アプリケーション固有の共通コンポーネント (例: Header, Footer)
│   │   │   ├── Header.tsx
│   │   │   └── Footer.tsx
│   │   └── forms/    // フォーム関連コンポーネント
│   │       └── LoginForm.tsx
│   ├── lib/
│   │   ├── schemas/  // Zodスキーマ定義
│   │   │   ├── authSchema.ts
│   │   │   └── userSchema.ts
│   │   ├── stores/   // Zustandストア定義
│   │   │   ├── authStore.ts
│   │   │   └── counterStore.ts
│   │   └── utils/    // 汎用ユーティリティ関数
│   │       └── helpers.ts
│   ├── styles/
│   │   ├── globals.css
│   │   └── themes/
│   │       └── light.ts
│   ├── types/        // TypeScript型定義
│   └── middleware.ts
```
# 14. 主要パッケージ
以下の主要なパッケージを使用してください。
- `next`: Next.jsフレームワーク
- `react`: Reactライブラリ
- `typescript`: TypeScript
- `zod`: スキーマバリデーションライブラリ
- `zustand`: 状態管理ライブラリ
- `prisma`: ORMライブラリ

